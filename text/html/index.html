<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta property="og:image" content="resources/fp_icon.jpg" />
    <meta property="og:description" content="Corporate Cluster Network for the Industry 4.0"" />
        <title>OS.CRIMSONLABS.NET</title>
        <link type=" text/css" rel="stylesheet" href="text/css/main.css">
</head>
<body>
    <script>0</script>
    <div id="container"><div id="globe"></div></div>
    <div id="CSS" style="position: absolute;"></div>
    <div class="timeline-container">
        <!-- <div class="flex-parent"> -->
            <div id="flip" class="input-flex-container just-center">
                <div class="input"><span data-year="1910" data-info="headset"></span></div>
                <div class="input"><span data-year="1920" data-info="jungle gym"></span></div>
                <div class="input active"><span data-year="1930" data-info="chocolate chip cookie"></span></div>
                <div class="input"><span data-year="1940" data-info="Jeep"></span></div>
                <div class="input"><span data-year="1950" data-info="leaf blower"></span></div>
                <div class="input"><span data-year="1960" data-info="magnetic stripe card"></span></div>
                <div class="input"><span data-year="1970" data-info="wireless LAN"></span></div>
                <div class="input"><span data-year="1980" data-info="flash memory"></span></div>
                <div class="input"><span data-year="1990" data-info="World Wide Web"></span></div>
                <div class="input"><span data-year="2000" data-info="Google AdWords"></span></div></div>
        <div id="time-grid" class="timeline small-center">
            <div class="timeline-month">August, 2018<span>3 Entries</span></div>
            <div class="timeline-section"><div class="timeline-date">21, Tuesday</div>
            <div class="row">
                <div class="col-sm-4">
                    <div id="stack" class="stack"></div>
                    <div class="feature timeline-box" style="background-color: #000 ;">
                        <div class="box-title"><i class="fa fa-asterisk text-success" aria-hidden="true"></i> Job Created</div>
                        <div class="box-content">
                        <a class="btn btn-xs btn-default pull-right">Details</a>
                        <div class="box-item"><strong>Loss Type</strong>: A/C Leak</div>
                        <div class="box-item"><strong>Loss Territory</strong>: Texas</div>
                        <div class="box-item"><strong>Start Date</strong>: 08/22/2018</div>
                        </div>
                        <div class="box-footer">- Tyler</div>
                    </div>
                    <div class="feature timeline-box" style="background-color: #000 ;">
                        <div class="box-title">
                        <i class="fa fa-asterisk text-success" aria-hidden="true"></i> Job Created
                        </div>
                        <div class="box-content">
                        <a class="btn btn-xs btn-default pull-right">Details</a>
                        <div class="box-item"><strong>Loss Type</strong>: A/C Leak</div>
                        <div class="box-item"><strong>Loss Territory</strong>: Texas</div>
                        <div class="box-item"><strong>Start Date</strong>: 08/22/2018</div>
                        </div>
                        <div class="box-footer">- Tyler</div>
                    </div>
                </div>
                <div class="col-sm-4">
                <div class="timeline-box">
                    <div class="box-title">
                    <i class="fa fa-pencil text-info" aria-hidden="true"></i> Job Edited
                    </div>
                    <div class="box-content">
                    <a class="btn btn-xs btn-default pull-right">Details</a>
                    <div class="box-item"><strong>Project Manager</strong>: Marlyn</div>
                    <div class="box-item"><strong>Supervisor</strong>: Carol</div>
                    </div>
                    <div class="box-footer">- Tyler</div>
                </div>
                </div>
        
            </div>
        
            </div>
        
            <div class="timeline-section">
            <div class="timeline-date">
                22, Wednesday
            </div>
            <div class="row">
                <div class="col-sm-4">
                <div class="timeline-box">
                    <div class="box-title">
                    <i class="fa fa-pencil text-info" aria-hidden="true"></i> Job Edited
                    </div>
                    <div class="box-content">
                    <a class="btn btn-xs btn-default pull-right">Details</a>
                    <div class="box-item"><strong>Extraction Type</strong>: Carpet Heavy</div>
                    <div class="box-item"><strong>Water Category</strong>: 4</div>
                    <div class="box-item"><strong>No. Of Tech</strong>: 6</div>
                    <div class="box-item"><strong>Est. Complation</strong>: 09/01/2018</div>
                    </div>
                    <div class="box-footer">- Carol</div>
                </div>
                </div>
                <div class="col-sm-4">
                <div class="timeline-box">
                    <div class="box-title">
                    <i class="fa fa-tasks text-primary" aria-hidden="true"></i> New Job To Do
                    </div>
                    <div class="box-content">
                    <a class="btn btn-xs btn-default pull-right">Details</a>
                    <div class="box-item"><strong>Employee</strong>: Sam</div>
                    <div class="box-item"><strong>To Do</strong>: Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam nisi nulla, viverra quis felis sit amet, lacinia feugiat odio. Aliquam sed orci elementum, volutpat dolor eget, venenatis nunc</div>
                    </div>
                    <div class="box-footer">- Marlyn</div>
                </div>
                </div>
                <div class="col-sm-4">
                <div class="timeline-box">
                    <div class="box-title">
                    <i class="fa fa-tasks text-primary" aria-hidden="true"></i> New Job To Do
                    </div>
                    <div class="box-content">
                    <a class="btn btn-xs btn-default pull-right">Details</a>
                    <div class="box-item"><strong>Employee</strong>: Jones</div>
                    <div class="box-item"><strong>To Do</strong>: Proin sit amet aliquet neque, eget sagittis nunc. Proin convallis lectus quis volutpat pharetra. Donec quis ultrices eros. Ut eget mi faucibus.</div>
                    </div>
                    <div class="box-footer">- Marlyn</div>
                </div>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-4">
                <div class="timeline-box">
                    <div class="box-title">
                    <i class="fa fa-thermometer-half text-warning" aria-hidden="true"></i> Pschrometrics
                    </div>
                    <div class="box-content">
                    <div class="box-item"><strong>Temp.</strong>: 23 <sup>o</sup>C</div>
                    <div class="box-item"><strong>Rh </strong>: 42</div>
                    <div class="box-item"><strong>Comments</strong>: Integer nec placerat ipsum. Aliquam id ligula suscipit, ornare dui nec, laoreet tortor.</div>
                    </div>
                    <div class="box-footer">- Jones</div>
                </div>
                </div>
                
                        <div class="col-sm-4">
                <div class="timeline-box">
                    <div class="box-title">
                    <i class="fa fa-building-o text-default" aria-hidden="true"></i> Room Created
                    </div>
                    <div class="box-content">
                    <div class="box-item"><strong>Name</strong>: Kitchen</div>
                    <div class="box-item"><strong>Floor Level </strong>: 2</div>
                    <div class="box-item"><strong>Dimensions</strong>: 26 x 11 x 8</div>
                    </div>
                    <div class="box-footer">- Sam</div>
                </div>
                </div>
                
            </div>
        
            </div>
            
            <div class="timeline-section">
            <div class="timeline-date">
                23, Thursday
            </div>
            <div class="row">
                <div class="col-sm-4">
                <div class="timeline-box">
                    <div class="box-title">
                    <i class="fa fa-tasks text-success" aria-hidden="true"></i> Job To Do Completed
                    </div>
                    <div class="box-content">
                    <a class="btn btn-xs btn-default pull-right">Details</a>
                    <div class="box-item"><strong>Employee</strong>: Sam</div>
                    <div class="box-item"><strong>Employee Response</strong>: Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam nisi nulla, viverra quis felis sit amet, lacinia feugiat odio. Aliquam sed orci elementum, volutpat dolor eget, venenatis nunc</div>
                    </div>
                    <div class="box-footer">- Carol</div>
                </div>
                </div>
                <div class="col-sm-4">
                <div class="timeline-box">
                    <div class="box-title">
                    <i class="fa fa-cogs text-info" aria-hidden="true"></i> Equipment Entry
                    </div>
                    <div class="box-content">
                    <a class="btn btn-xs btn-default pull-right">Details</a>
                    <div class="box-item"><strong>ID</strong>: TW-3232</div>
                    <div class="box-item"><strong>Name</strong>: HEPA 600</div>
                                    <div class="box-item"><strong>Date In</strong>: 08/22/2018</div>
                    </div>
                    <div class="box-footer">- Jones</div>
                </div>
                </div>
        
            </div>
        
            </div>
        
        </div>
        </div>
    <div id="options-container">
        <div id="options">
            <div id="options-content">
                <h3>Add element by clicking map below</h3>
                <img class="projection" src="image/png/point_picker.png" width="280px" />
                <ul id="add-element">
                    <li id="add-pin" class="button selected">Drop Pin</li>
                    <li id="add-marker" class="button">Marker</li>
                    <li id="add-satellite" class="button">Satellite</li>
                </ul>
                <h3>Configure Globe</h3>
                <div>
                    <label>Color Palette</label>
                    <ul id="color-options">
                        <li title="Globe Color"><input type="text" id="globe-color" value="#ffcc00"></li>
                        <li title="Pin Color"><input type="text" id="pin-color" value="#8FD8D8"></li>
                        <li title="Marker Color"><input type="text" id="marker-color" value="#ffcc00"></li>
                        <li title="Satellite Core Color"><input type="text" id="satellite-color" value="#ff0000"></li>
                    </ul>
                    <label>Globe Scale</label>
                    <input type="text" id="globe-scale" data-slider="true" data-slider-range=".1, 3.0"
                        data-slider-step=".01" data-slider-highlight="true" value="1.0" />
                    <label>View Angle</label>
                    <input type="text" id="globe-va" data-slider="true" data-slider-range="-1.57, 1.57"
                        data-slider-step=".01" data-slider-highlight="true" value=".1" />
                    <label>Seconds per Rotation</label>
                    <input type="text" id="globe-spr" data-slider="true" data-slider-range="1, 120" data-slider-step="1"
                        data-slider-highlight="true" value="28" />
                    <label>Points per Degree</label>
                    <input type="text" id="globe-ppd" data-slider="true" data-slider-range=".5,4" data-slider-step=".1"
                        data-slider-highlight="true" value="1.1" />
                    <label>Point Size</label>
                    <input type="text" id="globe-ps" data-slider="true" data-slider-range=".1,1.0" data-slider-step=".1"
                        data-slider-highlight="true" value=".6" />
                    <label>Intro Duration (ms)</label>
                    <input type="text" id="globe-id" data-slider="true" data-slider-range="500,5000"
                        data-slider-step="100" data-slider-highlight="true" value="2000" />
                    <label>Max Pins</label>
                    <input type="text" id="globe-mp" data-slider="true" data-slider-range="10,1000"
                        data-slider-step="10" data-slider-highlight="true" value="500" />
                    <label>Max Markers</label>
                    <input type="text" id="globe-mm" data-slider="true" data-slider-range="1,10" data-slider-step="1"
                        data-slider-highlight="true" value="4" />
                    <label>Satellite Altitude</label>
                    <input type="text" id="globe-sa" data-slider="true" data-slider-range="1.0,3.0"
                        data-slider-step=".01" data-slider-highlight="true" value="1.3" />
                    <label>Satellite Intensity</label>
                    <input type="text" id="globe-si" data-slider="true" data-slider-range="3,12" data-slider-step="1"
                        data-slider-highlight="true" value="8" />
                    <label>Load Dummy Data</label>
                    <div class="switch"><input type="checkbox" id="globe-dd" value="1" checked></div>
                </div>
                <div id="apply-button" class="button">Reload</div>
            </div>
        </div>
        <div class="header" id="header-top">
            <div class="header-left-section">CENTRAL SYSTEM DATA ... <span class="alt-1">LAUNCH ENCOM
                    GLOBALIZATION</span></div>
            <div class="header-right-section">OIA | 012
        </div>
        </div>
    </div>

    <div id="menu" style="width: 100%;height: 5%; position:absolute;top: 10px;left: 0px;">
        <button id="table">TABLE</button>
        <button id="sphere">SPHERE</button>
        <button id="helix">HELIX</button>
        <button id="grid">GRID</button>
        <button id="geo">GLOBE</button></div>
    <div class="header" id="header-bottom">
        <div class="header-left-section">TOUCHPOINT KEYBOARD ... <span class="alt-1">INTERACTION SEQUENCING</span></div>
        <div class="header-right-section">SYS | O12</div>
    </div>
    <div id="thumbprint"><img src="image/png/thumbprint.png" /></div>
    <div class="header-animator" id="header-animator-inside"></div>
    <!-- probably should remove these and have them created in the script-->
    <div class="header-animator" id="header-animator-outside"></div>
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
    <link rel="stylesheet"
        href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/themes/smoothness/jquery-ui.min.css" />
    <script src="text/javascript/globe/spectrum.js"></script>
    <link href="text/css/globe/spectrum.css" rel="stylesheet" type="text/css" />
    <script src="text/javascript/globe/jquery.switchButton.js"></script>
    <link href="text/css/globe/jquery.switchButton.css" rel="stylesheet" type="text/css" />
    <script src="text/javascript/globe/simple-slider.js"></script>
    <script src="text/javascript/globe/Detector.js"></script>
    <link href="text/css/styles.css" rel="stylesheet" type="text/css" />
    <script src="text/javascript/globe/data.js"></script>
    <script src="text/javascript/globe/grid.js"></script>
    <script src="text/javascript/globe/encom-globe.js"></script>
    <script type="module">
        import * as THREE from '../../text/javascript/threejs/build/three.module.js';
        import { TWEEN } from './text/javascript/threejs/examples/jsm/libs/tween.module.min.js';
        import { TrackballControls } from './text/javascript/threejs/examples/jsm/controls/TrackballControls.js';
        import { CSS3DRenderer, CSS3DObject } from './text/javascript/threejs/examples/jsm/renderers/CSS3DRenderer.js';
        // import { Interaction } from './text/javascript/three.interaction.js/build/three.interaction.module.js';
        // var interaction = new THREE.Interaction(renderer, scene, camera);
        let camera, scene, renderer;
        let controls;
        const objects = [];
        const targets = { table: [], sphere: [], helix: [], grid: [] };
        init();
        animate1();
        function init() {
            camera = new THREE.PerspectiveCamera(40, window.innerWidth / window.innerHeight, 1, 10000);
            camera.position.z = 3000;
            scene = new THREE.Scene();
            for (let i = 0; i < table.length; i += 5) {// table
                const element = document.createElement('div'); element.className = 'element'; element.style.backgroundColor = 'rgba(0,127,127,' + (Math.random() * 0.5 + 0.25) + ')';
                const number = document.createElement('div'); number.className = 'number'; number.textContent = (i / 5) + 1; element.appendChild(number);
                const symbol = document.createElement('div'); symbol.className = 'symbol'; symbol.textContent = table[i]; element.appendChild(symbol);
                const details = document.createElement('div'); details.className = 'details'; details.innerHTML = table[i + 1] + '<br>' + table[i + 2]; element.appendChild(details);
                element.addEventListener('click', function (e) {
                    window.console.log(e.target.objectCSS);
                    camera.position.sub(objects[0].position).setLength(10).add(objects[0].position);
                }, false);
                // number.addEventListener('click', function () { 
                // }, false);
                // symbol.addEventListener('click', function () { 
                // }, false);
                // details.addEventListener('click', function () { 
                // }, false);

                const objectCSS = new CSS3DObject(element);
                objectCSS.position.x = Math.random() * 4000 - 2000;
                objectCSS.position.y = Math.random() * 4000 - 2000;
                objectCSS.position.z = Math.random() * 4000 - 2000; 
                scene.add(objectCSS); objects.push(objectCSS);

                // objectCSS.cursor = 'pointer';
                // objectCSS.on('click', function(ev) {console.log("==");});
                // element.objectCSS = objectCSS;

                // objectCSS.on('pointerdown', function(e) {
                //     // blink(document.querySelector('#pointerdown'));
                //     window.console.log(e);
                //     // e.data.originalEvent.preventDefault();

                // });
                // window.console.log(objectCSS);

                const object = new THREE.Object3D(); object.position.x = (table[i + 3] * 140) - 1330; object.position.y = - (table[i + 4] * 180) + 990; 
                targets.table.push(object);}
            const vector = new THREE.Vector3();
            for (let i = 0, l = objects.length; i < l; i++) {// sphere
                const phi = Math.acos(- 1 + (2 * i) / l);
                const theta = Math.sqrt(l * Math.PI) * phi;
                const object = new THREE.Object3D();
                object.position.setFromSphericalCoords(800, phi, theta);
                vector.copy(object.position).multiplyScalar(2);
                object.lookAt(vector);
                targets.sphere.push(object);}
            for (let i = 0, l = objects.length; i < l; i++) {// helix
                const theta = i * 0.175 + Math.PI;
                const y = - (i * 8) + 450;
                const object = new THREE.Object3D();
                object.position.setFromCylindricalCoords(900, theta, y);
                vector.x = object.position.x * 2;
                vector.y = object.position.y;
                vector.z = object.position.z * 2;
                object.lookAt(vector);
                targets.helix.push(object);}
            for (let i = 0; i < objects.length; i++) {// grid
                const object = new THREE.Object3D();
                object.position.x = ((i % 5) * 400) - 800;
                object.position.y = (- (Math.floor(i / 5) % 5) * 400) + 800;
                object.position.z = (Math.floor(i / 25)) * 1000 - 2000;
                targets.grid.push(object);}
            renderer = new CSS3DRenderer({ alpha: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            document.getElementById('CSS').appendChild(renderer.domElement);
            controls = new TrackballControls(camera, renderer.domElement);
            controls.minDistance = 500;
            controls.maxDistance = 6000;
            controls.addEventListener('change', render);
            const buttonTable = document.getElementById('table');
            buttonTable.addEventListener('click', function () { transform(targets.table, 2000); }, false);
            const buttonSphere = document.getElementById('sphere');
            buttonSphere.addEventListener('click', function () { transform(targets.sphere, 2000); }, false);
            const buttonHelix = document.getElementById('helix');
            buttonHelix.addEventListener('click', function () { transform(targets.helix, 2000); }, false);
            const buttonGrid = document.getElementById('grid');
            buttonGrid.addEventListener('click', function () { transform(targets.grid, 2000); }, false);
            const buttonGeo = document.getElementById('geo');
            buttonGeo.addEventListener('click', function () { 
                // transform(targets.grid, 2000); 
                window.console.log("clicked");
                camera.position.sub(objects[0].position).setLength(10).add(objects[0].position);
                // camera.position.setLength(100);
            }, false);
            transform(targets.grid, 2000);
            window.addEventListener('resize', onWindowResize1, false);}
        function transform(targets, duration) {
            TWEEN.removeAll();
            for (let i = 0; i < objects.length; i++) {
                const object = objects[i];
                const target = targets[i];
                new TWEEN.Tween(object.position)
                    .to({ x: target.position.x, y: target.position.y, z: target.position.z }, Math.random() * duration + duration)
                    .easing(TWEEN.Easing.Exponential.InOut).start();
                new TWEEN.Tween(object.rotation)
                    .to({ x: target.rotation.x, y: target.rotation.y, z: target.rotation.z }, Math.random() * duration + duration)
                    .easing(TWEEN.Easing.Exponential.InOut).start();}
            new TWEEN.Tween(this).to({}, duration * 2).onUpdate(render).start();}
        function onWindowResize1() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
            render();}
        function animate1() {
            requestAnimationFrame(animate1);
            TWEEN.update();
            controls.update();}
        function render() { renderer.render(scene, camera);}
    </script>
    <script>
        // import * as THREE from './text/javascript/threejs/build/three.module.js';
        // import { TWEEN } from './text/javascript/threejs/examples/jsm/libs/tween.module.min.js';
        // import { TrackballControls } from './text/javascript/threejs/examples/jsm/controls/TrackballControls.js';
        // import { CSS3DRenderer, CSS3DObject } from './text/javascript/threejs/examples/jsm/renderers/CSS3DRenderer.js';
        var globe, globeCount = 0;
        function makeHeaderMenu() {

        }
        function createGlobe() {
            var newData = [];
            globeCount++;
            $("#globe canvas").remove();
            if ($("#globe-dd:checked").length) { newData = data.slice(); }
            globe = new ENCOM.Globe(window.innerWidth, window.innerHeight, {
                font: "Inconsolata",
                data: newData, // copy the data array
                tiles: grid.tiles,
                baseColor: $("#globe-color").val(),
                markerColor: $("#marker-color").val(),
                pinColor: $("#pin-color").val(),
                satelliteColor: $("#satellite-color").val(),
                scale: parseFloat($("#globe-scale").val()),
                dayLength: 1000 * parseFloat($("#globe-spr").val()),
                introLinesDuration: parseFloat($("#globe-id").val()),
                maxPins: parseFloat($("#globe-mp").val()),
                maxMarkers: parseFloat($("#globe-mm").val()),
                viewAngle: parseFloat($("#globe-va").val())});
            $("#globe").append(globe.domElement);
            globe.init(start);}
        function onWindowResize() {
            globe.camera.aspect = window.innerWidth / window.innerHeight;
            globe.camera.updateProjectionMatrix();
            globe.renderer.setSize(window.innerWidth, window.innerHeight);}
        function roundNumber(num) { return Math.round(num * 100) / 100; }
        function projectionToLatLng(width, height, x, y) { return { lat: 90 - 180 * (y / height), lon: 360 * (x / width) - 180, }; }
        function animate() {
            if (globe) { globe.tick(); }
            lastTickTime = Date.now();
            requestAnimationFrame(animate);}
        function start() {
            if (globeCount == 1) { // only do this for the first globe that's created. very messy
                $("#apply-button").click(function (e) { globe.destroy(function () { createGlobe(); });});
                $(".projection").click(function (e) {
                    var offset = $(this).offset();
                    var latLon = projectionToLatLng($(".projection").width(), $(".projection").height(), e.clientX - offset.left, e.clientY - offset.top);
                    var selectedId = $("#add-element .selected").attr("id");
                    if (selectedId == "add-pin") { globe.addPin(latLon.lat, latLon.lon, "User Dropped Pin"); }
                    else if (selectedId == "add-marker") { globe.addMarker(latLon.lat, latLon.lon, "User Marker", true); }
                    else if (selectedId == "add-satellite") {
                        var opts = { coreColor: $("#satellite-color").val(), numWaves: parseInt($("#globe-si").val())};
                        globe.addSatellite(latLon.lat, latLon.lon, parseFloat($("#globe-sa").val()), opts);}});
                $("#add-element li").click(function (e) { $("#add-element li").removeClass("selected"); $(e.currentTarget).addClass("selected");});
                animate();
                setInterval(function () {                                             /* add pins at random locations */
                    if (!globe || !$("#globe-dd:checked").length) { return; }
                    var lat = Math.random() * 180 - 90,
                        lon = Math.random() * 360 - 180,
                        name = "Test " + Math.floor(Math.random() * 100);
                    globe.addPin(lat, lon, name);}, 5000);}
            if ($("#globe-dd:checked").length) {                                      /* add 6 satellites in random locations */
                setTimeout(function () {
                    var constellation = [];
                    var opts = { coreColor: $("#satellite-color").val(), numWaves: parseInt($("#globe-si").val())};
                    var alt = parseFloat($("#globe-sa").val());
                    for (var i = 0; i < 2; i++) {
                        for (var j = 0; j < 3; j++) { constellation.push({ lat: 50 * i - 30 + 15 * Math.random(), lon: 120 * j - 120 + 30 * i, altitude: alt });}}
                    globe.addConstellation(constellation, opts);}, 4000);
                setTimeout(function () {                                              /* add the connected points that are in the movie */
                    globe.addMarker(49.25, -123.1, "Vancouver");
                    globe.addMarker(35.6895, 129.69171, "Tokyo", true);}, 2000);}}
        function openOptions() {
            var headerTopPosition = $("#header-top").position().top;
            var headerBottomPosition = $("#header-bottom").position().top;
            var headerHeight = $("#header-top").outerHeight(); /* margins or something, whatever */
            $(".header-animator").offset({ top: $(document).height() / 2, left: 25 });
            $(".header-animator").height(0);
            $("#options").data("left", $("#options").css("left"));
            $("#thumbprint").data("left", $("#thumbprint").css("left"));
            $("#options").animate({ left: 0 }, 500);
            // $("#thumbprint").animate({left: 265}, 500);
            $("#thumbprint").animate({ left: "95%" }, 500);
            $("#options-content").delay(1500).animate({ opacity: 1 }, 500);
            $("#options-content").css("visibility", "visible");
            $("#CSS").delay(1500).animate({ opacity: 1 }, 500);
            $("#CSS").css("visibility", "visible");
            $("#menu").delay(1500).animate({ opacity: 1 }, 500);
            $("#menu").css("visibility", "visible");
            $("#flip").animate({ height: "20%" }, 500);
            $(".flex-parent").delay(1500).animate({ opacity: 1 }, 500);
            $(".flex-parent").css("visibility", "visible");
            setTimeout(function () {
                $(".header-animator").css("visibility", "visible");
                $("#header-animator-outside").animate({
                    top: headerTopPosition,
                    height: headerBottomPosition - headerTopPosition + headerHeight}, 500);
                $("#header-animator-inside").animate({
                    top: headerTopPosition + headerHeight,
                    height: headerBottomPosition - headerTopPosition - headerHeight}, 500);}, 500);
            setTimeout(function () {
                $(".header-animator").css("visibility", "hidden");
                $(".header").css("visibility", "visible");}, 1000);}
        function closeOptions() {
            $("#options").animate({ left: $("#options").data("left") }, 500);
            $("#thumbprint").animate({ left: $("#thumbprint").data("left") }, 500);
            $("#options-content").animate({ opacity: 0 }, 500);
            $("#options-content").css("visibility", "hidden");
            $("#CSS").animate({ opacity: 0 }, 500);
            $("#CSS").css("visibility", "hidden");
            $("#menu").animate({ opacity: 0 }, 500);
            $("#menu").css("visibility", "hidden");
            $("#flip").animate({ height: "100%" }, 500);
            // $("#flip").css("visibility", "hidden");
            $(".flex-parent").animate({ opacity: 0 }, 500);
            $(".flex-parent").css("visibility", "hidden");
            $(".header").css("visibility", "hidden");}
        $(function () {
            var open = false;
            if (!Detector.webgl) {
                Detector.addGetWebGLMessage({ parent: document.getElementById("container") });
                return;}
            window.addEventListener('resize', onWindowResize, false);
            $("#globe-color").spectrum({
                color: "#ffcc00",
                showButtons: false,
                showInput: false,
                change: function (color) { if (globe) { globe.setBaseColor(color.toHexString());}}});
            $("#pin-color").spectrum({
                color: "#8FD8D8",
                showButtons: false,
                showInput: false,
                change: function (color) { if (globe) { globe.setPinColor(color.toHexString());}}});
            $("#marker-color").spectrum({
                color: "#ffcc00",
                showButtons: false,
                showInput: false,
                change: function (color) { if (globe) { globe.setMarkerColor(color.toHexString());}}});
            $("#satellite-color").spectrum({
                color: "#ff0000",
                showButtons: false,
                showInput: false,
                change: function (color) { if (globe) {for (var x in globe.satellites) { globe.satellites[x].changeCanvas(null, null, color.toHexString());}}}});
            $("[data-slider]").each(function () {
                var input = $(this);
                $("<span>").addClass("slider-output").insertAfter($(this)).html(input.val());}).
                    bind("slider:ready slider:changed", function (event, data) {
                        $(this).nextAll(".slider-output:first").html(data.value.toFixed(3));});
            $(":checkbox").switchButton();
            $("#globe-scale").bind("slider:changed", function (event, data) { if (globe) { globe.setScale(data.value); } });
            $("#globe-va").bind("slider:changed", function (event, data) { if (globe) { globe.viewAngle = data.value; } });
            $("#globe-spr").bind("slider:changed", function (event, data) { if (globe) { globe.dayLength = data.value * 1000; } });
            $("#globe-mp").bind("slider:changed", function (event, data) { if (globe) { globe.setMaxPins(data.value); } });
            $("#globe-mm").bind("slider:changed", function (event, data) { if (globe) { globe.setMaxMarkers(data.value); } });
            $("#globe-sa").bind("slider:changed", function (event, data) { if (globe) { for (var x in globe.satellites) { globe.satellites[x].changeAltitude(data.value); } } });
            $("#globe-si").bind("slider:changed", function (event, data) { if (globe) { for (var x in globe.satellites) { globe.satellites[x].changeCanvas(data.value); } } });
            var docHeight = $(document).height();
            WebFontConfig = {
                google: { families: ['Inconsolata'] },
                active: function () {
                    $("#options").css({/* don't start the globe until the font has been loaded */
                        "visibility": "visible",
                        "top": docHeight / 2,
                        "bottom": docHeight / 2}).
                        animate({ "top": 0, "bottom": 0, "padding-top": 46}, 800, function complete() {
                            $("#thumbprint").animate({ opacity: 1 });
                            $("#thumbprint").click(function () {
                                if (!open) { open = true; openOptions(); }
                                else { open = false; closeOptions(); }});
                            // setTimeout(function () { open = true; openOptions(); }, 3000);
                            createGlobe();});}};
            var wf = document.createElement('script');
            wf.src = ('https:' == document.location.protocol ? 'https' : 'http') + '://ajax.googleapis.com/ajax/libs/webfont/1.4.7/webfont.js';
            wf.type = 'text/javascript';
            wf.async = 'true';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(wf, s);});
    </script>
    <script>
        function myFunction() {
            var x = document.getElementById("myNavbar");
            if (x.className === "navbar") {x.className += " responsive";} 
            else { x.className = "navbar";}}
        $(function(){
            var inputs = $('.input');
            var paras = $('.description-flex-container').find('p');
            inputs.click(function(){
                var t = $(this), ind = t.index(), matchedPara = paras.eq(ind);
                t.add(matchedPara).addClass('active');
                inputs.not(t).add(paras.not(matchedPara)).removeClass('active');
            });
        });
        // $(document).ready(function(){
        //     $("#flip").click(function(){
        //         $("#panel").slideDown("slow");
        //     });
        // });
        $(document).ready(function(){
            $("#flip").click(function(){
                $("#time-grid").slideToggle("fast");
            });
        });
        let stack = document.querySelector(".stack");
        [...stack.children].reverse().forEach(i => stack.append(i));
        stack.addEventListener("click", swap);
        function swap(e) {
            let card = document.querySelector(".card:last-child");
            if (e.target !== card) return;
            card.style.animation = "swap 700ms forwards";
            setTimeout(() => { card.style.animation = ""; stack.prepend(card);}, 700);}
        function addChild(count)  {
            let stack = document.getElementById("stack");
            let child = document.createElement("div");
            child.setAttribute("class","timeline-box card");
            child.innerHTML = "text" + count;
            stack.prepend(child);
            count--;
            console.log("count is " + count); 
            if (count>0) {setTimeout(addChild.bind(null,count--), 700);}}
        function addChildren(count) { setTimeout(addChild.bind(null,count), 700);}
        addChildren(1);
    </script>
    <script type="module">

        function render() {
          cube.rotation.y += 0.01;
          renderer.render(scene, camera);
          requestAnimationFrame(render);
        }
        function blink(dom) {
          clearTimeout(dom.timer);
          dom.className = 'marker active';
          dom.timer = setTimeout(function(){
            dom.className = 'marker';
          }, 300);
        }
      </script>
</body>

</html>